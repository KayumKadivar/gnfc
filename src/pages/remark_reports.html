<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GNFC | Remark Report</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif']
          },
          colors: {
            dark: {
              bg: '#111217', 
              panel: '#181B1F', 
              border: '#2C3235', 
              text: '#CCCCDD',
              muted: '#8E8E9E',
              header: '#0B0C0E' 
            },
            grafana: {
              orange: '#FF9900',
              blue: '#5794F2',
              green: '#73BF69',
              red: '#F2495C'
            }
          }
        }
      }
    }
  </script>
  <style>
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #111217;
    }

    ::-webkit-scrollbar-thumb {
      background: #2C3235;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #444;
    }
  </style>
</head>

<body class="bg-dark-bg text-dark-text font-sans h-screen flex overflow-hidden">


    <script src="/src/js/theme_manager.js"></script>
    <script src="/src/js/sidebar.js"></script>
    <script src="/src/js/header.js"></script>
  <div id="sidebar-container"></div>
  <script>
    try {
      renderSidebar('remark_report');
    } catch (e) {
      console.warn("Sidebar script not found");
    }
  </script>

  <main class="flex-1 flex flex-col h-screen overflow-hidden">

    <div id="header-container"></div>
    <script>
        renderHeader({
            title: "Acetic Acid Logbook",
            breadcrumbs: [
                { label: "Technician Log", href: "technician_logbook.html" },
                { label: "Plant Detail", href: "plant_detail.html" },
                { label: "Remark Report" }
            ],
            backLink: "plant_detail.html"
        });
    </script>

    <div class="flex-1 overflow-y-auto p-4 space-y-4">

      <div class="bg-dark-panel rounded-sm border border-dark-border shadow-sm overflow-hidden flex flex-col h-full">
        <div class="bg-[#22252B] px-4 py-2 border-b border-dark-border flex justify-between items-center shrink-0">
          <h2 class="text-xs font-bold text-grafana-blue uppercase tracking-widest flex items-center gap-2">
            <i class="ph-bold ph-table"></i> Detailed Remark Report
          </h2>
          <div class="flex items-center gap-2">
            <span class="text-[10px] font-mono text-dark-muted">Year: 2026</span>
          </div>
        </div>

        <div class="overflow-x-auto flex-1 relative">
          <table class="w-full text-left border-collapse">
            <thead class="sticky top-0 z-10">
              <tr
                class="bg-dark-header text-[10px] font-bold text-dark-muted uppercase tracking-widest text-center border-b border-dark-border">
                <th rowspan="2" class="border-r border-dark-border px-2 py-3 w-10">Sr</th>
                <th rowspan="2" class="border-r border-dark-border px-2 py-3 w-16">Area</th>
                <th class="border-r border-dark-border px-2 py-1 w-32 border-b border-dark-border/50 text-white">
                  LoopNo</th>
                <th
                  class="border-r border-dark-border px-2 py-1 min-w-[200px] border-b border-dark-border/50 text-white">
                  Job</th>
                <th rowspan="2" class="border-r border-dark-border px-2 py-3 w-16">Tech</th>
                <th rowspan="2" class="border-r border-dark-border px-4 py-3 min-w-[300px]">Description
                </th>
                <th rowspan="2" class="border-r border-dark-border px-2 py-3 w-16">Tech</th>
                <th rowspan="2" class="border-r border-dark-border px-2 py-3 w-20">Status</th>
                <th rowspan="2" class="px-4 py-3 min-w-[250px]">Remarks</th>
              </tr>
              <tr
                class="bg-dark-header text-[9px] font-bold text-grafana-blue uppercase text-center border-b border-dark-border">
                <th class="border-r border-dark-border px-2 py-1">TagNo</th>
                <th class="border-r border-dark-border px-2 py-1">TypeOfJob</th>
              </tr>
            </thead>
            <tbody id="reportTableBody" class="text-xs font-mono">
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </main>

  <script>
    // Set Current Date
    const dateEl = document.getElementById('current-date');
    if (dateEl) {
      const now = new Date();
      dateEl.textContent = now.toLocaleDateString('en-GB', {
        day: '2-digit',
        month: 'short',
        year: 'numeric'
      }).toUpperCase();
    }

    const reportData = [
      {
        sr: 1, area: '300', loopNo: 'N.A', tagNo: 'PT310', job: 'To be checked as reported PT showing Zero value. (By:MAJ : 08/02/2026)', typeOfJob: 'DEFECT MAINTENANCE', tech1: 'NND',
        description: 'Rosemount remote seal PT found defective so removed it. Its diaphragm is not working properly. New ABB 2600 series remote seal PT installed with new gasket(1-1/2" 300#). Capillary tube dressing and cable connection done. Tx configuration done. Mounting zero done. Tx taken in line. No any leakage. Indication is ok now. Steam tracing flow established.',
        tech2: 'NND', status: 'OVER', remarks: 'An email has been sent to the Mechanical Team for the provision of a drain spool arrangement. The email reference has also been uploaded in the IIMS correspondence section under \'Safety-related emails\'. [written by : MAJ Date : 07/02/2026 ]'
      },
      {
        sr: 2, area: '500', loopNo: 'N.A', tagNo: 'PT501', job: 'DEFECT MAINTENANCE', typeOfJob: 'DEFECT MAINTENANCE', tech1: 'GAZ',
        description: 'Leakage was found from its tapping so Ferrule camp was provided on it. As per process requirement Near by same line GE pint disconnected and PG(10BAR) provided on it for Pressure measurement (GE point valve passing so isolated on needle valve and tap is done.)',
        tech2: 'GAZ', status: 'OVER', remarks: 'Tag is PT501. [written by : DKV Date : 03/02/2026 ]'
      },
      {
        sr: 3, area: 'N.A', loopNo: 'N.A', tagNo: 'DCS-FOXBORO IA', job: 'Associated with M/S SEBPL for Foxboro AMC visit. (By:MAJ : 30/01/2026)', typeOfJob: 'PM', tech1: 'PSG',
        description: 'Associated with M/S SEBPL engr Mr. Shailesh Pateliya as part of Foxboro AMC visit. Backup of AW0001 Foxboro server is taken. Backup of WP0001/WP0002/WP0003/WP0004 workstation is taken. Backup of AW0001 at Meth-1 plant is taken. Material received for Triconex upgradation kit is received and checked Found Ok. Following discrepancies observed: -TRICON DIAGREAD KIT along with CD is not available. -Monitor received 24" 2 Nos against 27" 3 Nos mention in BOM -Hex screw driver tool is not availble. -EPROM for DI module is 38 Nos and 51 mentioned in BOM.',
        tech2: 'PSG', status: 'OVER', remarks: 'TRICON DIAGREAD kit and hex tool are not required as certified by M/s SFSIPL engineer. Other discrepancies are relayed further. [written by : NKP Date : 31/01/2026 ]'
      },
      {
        sr: 4, area: 'N.A', loopNo: 'N.A', tagNo: 'QT1001', job: 'Procedure code-3. Function checking by applying actual measuring variable/medium. (By:MAJ : 20/01/2026)', typeOfJob: 'ISO14001', tech1: 'PJR',
        description: 'Response checked with 500PPM NH3 and it is Responding.',
        tech2: 'PJR', status: 'OVER', remarks: 'wrong job entry, ignore this entry. [written by : MAJ Date : 20/01/2026 ]'
      },
      {
        sr: 5, area: 'N.A', loopNo: 'N.A', tagNo: 'QT0207/QT0208_3', job: 'DEFECT MAINTENANCE', typeOfJob: 'DEFECT MAINTENANCE', tech1: 'MRL',
        description: 'During the analyzer round, an Error LED was observed on the analyzer. Upon investigation, the errors were identified as CAN â€“ No Device and CAN Bus Error. A system reboot was performed, and all CAN connections were disconnected and reconnected; however, no improvement was observed. The internal old backup was loaded, but the issue persisted. Further attempts were made to establish communication with the SEI card using TCT software version 3.7 and above, but communication could not be established. Based on these observations, it was decided to replace the SEI card. A replacement SEI card was arranged and installed. Communication was successfully established after configuring the network settings as follows: SEI card IP address: 192.168.1.4 PC IP address: 192.168.1.5 Subnet mask: 255.255.255.0 As there was no analyzer backup available locally, a backup was arranged from ABB and an attempt was made to load it. However, the serial number of the new SEI card differed from the old SEI card, and the old serial number was stored in the backup. Due to this mismatch, the backup could not be loaded. Subsequently, the analyzer from M-1 was removed and installed at QT0207_0208_02. The measurement range was configured, all connections and tubing were completed, and calibration was performed. The analyzer was then placed inline, and the sample readings were found to be normal.',
        tech2: 'MRL', status: 'OVER', remarks: 'replaced AMC(Analyzer module controller). [written by : MAJ Date : 19/01/2026 ]'
      },
      {
        sr: 6, area: 'ABU REVAMP', loopNo: 'N.A', tagNo: 'XV20', job: 'PROCESS REQMT', typeOfJob: 'PROCESS REQMT', tech1: 'PSG',
        description: 'CX20 startup related activities done. Reported that XV09 is not getting open. Found that K3 was in dropped condition. So, informed to make it on via FSOV64 RESET command from DCS panel. After that K3 relay become OK. After that turbine is started but due to some leakage they have stopped it. After that it was required to open XV09 for draining purpose. But it was not getting open. FSOV64 reset done but K3 relay was dropping after sometime. So, P24VDC undervoltage contact is bypassed. But still no improvement. So, total K3 contactor is bypassed. It may be required to be replace with spare one. Draining is started by process department.',
        tech2: 'PSG', status: 'OVER', remarks: 'Good job. [written by : VMP Date : 17/01/2026 ]'
      },
      {
        sr: 7, area: 'ABU REVAMP', loopNo: 'N.A', tagNo: 'XV1010', job: 'PROCESS REQMT', typeOfJob: 'PROCESS REQMT', tech1: 'PSG',
        description: 'X01010 related startup activities done. Reported that X01 TTD is not getting start. Checked found that pin on down engage lamp was ON. So checked in field and TTD SOV air is isolated and taken line. After that TTD engage pin on positioned properly and lamp disappear. After that TTD is put on AUTO by panel operator and it got start. X01 startup activity done by process and reported that HP steam pilot valve is not getting open after ESV opened. RUN button pressed several times. Checked in field and informed process people to press RUN button hard. After that it is working OK. But in a minute it got tripped due to 20 minutes timer for turbine. Then process people tried to open ESV. But control oil pressure was not coming. Checked in detail found that TTDNOTRIP was unhealthy. Traced found that it is T21 command coming from TTD panel. Process has reset TTD from panel after that this trip become normal. After that ESV opening sequence found smooth and RUN command given from local panel and X01 turbine started. On Woodward panel, there was alarm - one speed probe failed. So, frequency in outlet of all',
        tech2: 'PSG', status: 'OVER', remarks: 'Good job. [written by : VMP Date : 17/01/2026 ]'
      }
    ];

    function renderTable(data) {
      const tbody = document.getElementById('reportTableBody');
      tbody.innerHTML = '';

      data.forEach((item, index) => {
        const statusClass = item.status === 'OVER' ? 'text-grafana-green bg-grafana-green/10 border-grafana-green/20' : 'text-grafana-orange bg-grafana-orange/10 border-grafana-orange/20';
        const row = `
                    <tr class="hover:bg-white/5 transition-colors border-b border-dark-border/50 group">
                        <td class="border-r border-dark-border/30 px-2 py-3 text-center text-dark-muted font-mono">${item.sr}</td>
                        <td class="border-r border-dark-border/30 px-2 py-3 font-bold text-grafana-blue text-center">${item.area}</td>
                        <td class="border-r border-dark-border/30 px-2 py-3">
                            <div class="text-white">${item.loopNo}</div>
                            <div class="text-grafana-blue mt-1 font-bold">${item.tagNo}</div>
                        </td>
                        <td class="border-r border-dark-border/30 px-2 py-3">
                            <div class="text-gray-300 line-clamp-2 hover:line-clamp-none" title="${item.job}">${item.job}</div>
                            <div class="text-grafana-orange mt-1 font-medium">${item.typeOfJob}</div>
                        </td>
                        <td class="border-r border-dark-border/30 px-2 py-3 text-center font-bold text-white">${item.tech1}</td>
                        <td class="border-r border-dark-border/30 px-4 py-3 text-dark-text leading-relaxed overflow-hidden text-ellipsis relative" style="display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical;" title="${item.description}">
                            ${item.description}
                        </td>
                        <td class="border-r border-dark-border/30 px-2 py-3 text-center font-bold text-white">${item.tech2}</td>
                        <td class="border-r border-dark-border/30 px-2 py-3 text-center">
                            <span class="text-[10px] font-black uppercase tracking-widest ${statusClass} px-2 py-1 rounded-sm border">
                                ${item.status}
                            </span>
                        </td>
                        <td class="px-4 py-3 text-dark-text leading-snug">
                            <div class="p-2 bg-dark-bg/50 rounded border border-dark-border/30">
                                ${item.remarks}
                            </div>
                        </td>
                    </tr>
                `;
        tbody.innerHTML += row;
      });
    }

    renderTable(reportData);

  </script>
</body>

</html>