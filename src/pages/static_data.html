<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SY_PM Static Data | GNFC</title>
    <link rel="stylesheet" href="/src/css/ios-fonts.css">
    <link rel="stylesheet" href="/src/css/modal-ui.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="/src/js/tailwind_config.js"></script>
    <script>window.activePage = 'static_data';</script>
</head>

<body class="bg-dark-bg text-dark-text font-inter antialiased selection:bg-gnfc-orange/30 selection:text-white pb-20">

    <!-- Header will be rendered here -->
    <div id="header-container"></div>

    <main class="pt-24 px-4 max-w-7xl mx-auto space-y-6 animate-fade-in-up">

        <!-- Context Header -->
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div>
                <div class="flex items-center gap-3 mb-1">
                    <span id="static-chip-system" class="px-2.5 py-1 rounded-md bg-blue-500/10 text-blue-400 font-12px fw-bold text-upper ls-wider border border-blue-500/20">
                        --
                    </span>
                    <span id="static-chip-frequency" class="px-2.5 py-1 rounded-md bg-purple-500/10 text-purple-400 font-12px fw-bold text-upper ls-wider border border-purple-500/20">
                        --
                    </span>
                </div>
                <h2 id="static-context-heading" class="font-24px fw-bold color-primary tracking-tight">
                    Loading context...
                </h2>
                <p class="font-14px color-label mt-1">Manage static report items and reference values <span id="static-record-count" class="ml-2 px-2 py-0.5 rounded-full bg-dark-panel border border-dark-border font-10px fw-bold color-label">0 records</span></p>
            </div>
            <div class="flex items-center gap-3">
                <button type="button" onclick="window.history.back()" class="px-4 py-2 rounded-lg border border-dark-border bg-dark-panel hover:bg-dark-header color-primary font-14px fw-medium transition-colors">
                    Back
                </button>
                <button id="btn-add-item" class="flex items-center gap-2 px-4 py-2 bg-gnfc-orange hover:bg-orange-600 color-primary rounded-lg font-14px fw-medium transition-all shadow-lg shadow-orange-500/20 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed">
                    <i class="ph-bold ph-plus"></i>
                    <span>Add Item</span>
                </button>
                <button id="btn-instruction" class="flex items-center gap-2 px-4 py-2 bg-dark-panel hover:bg-dark-header border border-dark-border color-primary rounded-lg font-14px fw-medium transition-all active:scale-95">
                    <i class="ph-bold ph-info"></i>
                    <span>Instructions</span>
                </button>
            </div>
        </div>

        <!-- Static Data List -->
        <div class="bg-dark-panel border border-dark-border rounded-xl shadow-sm overflow-hidden">
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-dark-header border-b border-dark-border">
                            <th class="px-6 py-4 font-12px fw-bold color-label text-upper ls-wider w-16 text-center">Sr</th>
                            <th class="px-6 py-4 font-12px fw-bold color-label text-upper ls-wider w-1/4">Item Name</th>
                            <th class="px-6 py-4 font-12px fw-bold color-label text-upper ls-wider w-1/4">Action</th>
                            <th class="px-6 py-4 font-12px fw-bold color-label text-upper ls-wider">Reference</th>
                            <th class="px-6 py-4 font-12px fw-bold color-label text-upper ls-wider text-right w-32">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="static-list-body" class="divide-y divide-dark-border/50">
                        <!-- Rows rendered by JS -->
                    </tbody>
                </table>
            </div>
            
            <!-- Empty State -->
            <div id="static-empty-state" class="hidden flex flex-col items-center justify-center p-12 text-center">
                <div class="w-16 h-16 rounded-full bg-dark-bg border border-dark-border flex items-center justify-center mb-4 color-label">
                    <i class="ph-duotone ph-list-dashes text-3xl"></i>
                </div>
                <h3 class="font-16px fw-bold color-primary mb-1">No static items found</h3>
                <p class="font-14px color-label max-w-[280px]">Add items to define the structure of your report.</p>
                <button onclick="document.getElementById('btn-add-item').click()" class="mt-4 px-4 py-2 rounded-lg bg-dark-header hover:bg-dark-border border border-dark-border color-primary font-12px fw-medium transition-colors">
                    Create First Item
                </button>
            </div>
        </div>

    </main>

    <!-- Add/Edit Item Modal -->
    <div id="item-modal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true" data-close-modal="true">
        <!-- Backdrop -->
        <div class="fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity opacity-0" id="modal-backdrop"></div>

        <!-- Panel -->
        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-2xl bg-dark-panel text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg border border-dark-border opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" id="modal-panel">
                    
                    <div class="bg-dark-header px-4 py-3 sm:px-6 border-b border-dark-border flex justify-between items-center">
                        <h3 class="font-18px fw-bold color-primary" id="modal-title">Add Static Item</h3>
                        <button class="rounded-lg p-2 color-label hover:color-primary hover:bg-white/5 transition-colors" data-close-modal="true">
                            <i class="ph ph-x font-20px"></i>
                        </button>
                    </div>

                    <div class="px-4 py-5 sm:p-6 space-y-4">
                        <input type="hidden" id="item-id">
                        
                        <div>
                            <label class="block font-12px fw-medium color-label mb-1.5">Item Name <span class="text-red-500">*</span></label>
                            <input type="text" id="item-name" class="w-full bg-dark-bg border border-dark-border rounded-lg px-3 py-2 color-primary text-sm focus:ring-1 focus:ring-gnfc-orange focus:border-gnfc-orange outline-none transition-all placeholder:text-dark-muted" placeholder="e.g., Temperature (TI-101)">
                        </div>

                        <div>
                            <label class="block font-12px fw-medium color-label mb-1.5">Action / Parameter</label>
                            <input type="text" id="item-action" class="w-full bg-dark-bg border border-dark-border rounded-lg px-3 py-2 color-primary text-sm focus:ring-1 focus:ring-gnfc-orange focus:border-gnfc-orange outline-none transition-all placeholder:text-dark-muted" placeholder="e.g., Check Reading">
                        </div>

                        <div>
                            <label class="block font-12px fw-medium color-label mb-1.5">Reference Value</label>
                            <input type="text" id="item-reference" class="w-full bg-dark-bg border border-dark-border rounded-lg px-3 py-2 color-primary text-sm focus:ring-1 focus:ring-gnfc-orange focus:border-gnfc-orange outline-none transition-all placeholder:text-dark-muted font-mono" placeholder="e.g., 50-80 Â°C">
                        </div>
                    </div>

                    <div class="bg-dark-header px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3 border-t border-dark-border">
                        <button type="button" id="btn-save-item" class="w-full inline-flex justify-center rounded-lg border border-transparent bg-gnfc-orange px-4 py-2 text-base font-14px fw-medium text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-gnfc-orange focus:ring-offset-2 focus:ring-offset-dark-panel sm:ml-3 sm:w-auto sm:text-sm transition-all shadow-lg shadow-orange-500/20">
                            Save Item
                        </button>
                        <button type="button" class="mt-3 w-full inline-flex justify-center rounded-lg border border-dark-border bg-dark-panel px-4 py-2 text-base font-14px fw-medium color-primary shadow-sm hover:bg-dark-bg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-dark-panel sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-all" data-close-modal="true">
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Instruction Modal -->
    <div id="instruction-modal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true" data-close-modal="true">
        <div class="fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity opacity-0" id="instruction-backdrop"></div>
        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-2xl bg-dark-panel text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-xl border border-dark-border opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" id="instruction-panel">
                    <div class="bg-dark-header px-4 py-3 sm:px-6 border-b border-dark-border flex justify-between items-center">
                        <h3 class="font-18px fw-bold color-primary">Report Instructions</h3>
                        <button class="rounded-lg p-2 color-label hover:color-primary hover:bg-white/5 transition-colors" data-close-modal="true">
                            <i class="ph ph-x font-20px"></i>
                        </button>
                    </div>
                    <div class="px-4 py-5 sm:p-6">
                        <label class="block font-12px fw-medium color-label mb-1.5">General Instructions</label>
                        <textarea id="instruction-text" class="w-full bg-dark-bg border border-dark-border rounded-lg px-3 py-2 color-primary text-sm focus:ring-1 focus:ring-gnfc-orange focus:border-gnfc-orange outline-none transition-all placeholder:text-dark-muted resize-y min-h-[120px]" placeholder="Enter instructions for this report..."></textarea>
                        <p class="mt-2 font-10px color-label text-right" id="instruction-updated">Last updated: -</p>
                    </div>
                    <div class="bg-dark-header px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3 border-t border-dark-border">
                        <button type="button" id="btn-save-instruction" class="w-full inline-flex justify-center rounded-lg border border-transparent bg-gnfc-orange px-4 py-2 text-base font-14px fw-medium text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-gnfc-orange focus:ring-offset-2 focus:ring-offset-dark-panel sm:ml-3 sm:w-auto sm:text-sm transition-all shadow-lg shadow-orange-500/20">
                            Save Instructions
                        </button>
                        <button type="button" class="mt-3 w-full inline-flex justify-center rounded-lg border border-dark-border bg-dark-panel px-4 py-2 text-base font-14px fw-medium color-primary shadow-sm hover:bg-dark-bg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-dark-panel sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-all" data-close-modal="true">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/src/js/sy_pm/page_static.js"></script>
</body>

</html>