<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SY_PM Static Data | GNFC</title>
  <link rel="stylesheet" href="/src/css/ios-fonts.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="/src/js/tailwind_config.js"></script>
  <link rel="stylesheet" href="/src/styles/sy_pm.css">
</head>

<body class="bg-dark-bg text-dark-text font-sans h-screen flex overflow-hidden selection:bg-gnfc-blue selection:text-white">
  <script src="/src/js/theme_manager.js"></script>
  <script src="/src/js/sidebar.js"></script>
  <script src="/src/js/header.js"></script>

  <div id="sidebar-container"></div>
  <script>
    try {
      renderSidebar('technician_logbook');
    } catch (error) {
      console.error(error);
    }
  </script>

  <main class="flex-1 flex flex-col overflow-hidden">
    <div id="header-container"></div>

    <div class="flex-1 overflow-y-auto sy-page-shell bg-dark-bg">
      <div id="plant-nav-container"></div>
      <script src="/src/js/plant_nav.js"></script>
      <script>
        try {
          renderPlantNav('sy_pm');
        } catch (error) {
          console.error(error);
        }
      </script>

      <div class="sy-content">
        <section class="sy-panel sy-section">
          <div class="sy-header-row">
            <div>
              <h2 id="sy-context-heading" class="sy-title">SY_PM Context</h2>
              <p class="sy-subtitle">Static records are scoped to selected system and frequency.</p>
            </div>
            <div class="sy-chip-row">
              <span class="sy-chip">System <strong id="sy-chip-system">-</strong></span>
              <span class="sy-chip">Frequency <strong id="sy-chip-frequency">-</strong></span>
              <span class="sy-chip">Rows <strong id="static-record-count">0 records</strong></span>
            </div>
          </div>
          <div class="sy-action-row mt-4">
            <button id="btn-add-record" type="button" class="sy-btn sy-btn-primary">
              <i class="ph-bold ph-plus mr-1"></i> Add Row
            </button>
            <button id="btn-edit-instruction" type="button" class="sy-btn">
              <i class="ph-bold ph-note-pencil mr-1"></i> Edit Instruction
            </button>
            <button id="btn-go-report" type="button" class="sy-btn sy-btn-success">
              <i class="ph-bold ph-file-text mr-1"></i> Open Report Workspace
            </button>
          </div>
        </section>

        <section class="sy-panel sy-section">
          <div class="sy-table-shell">
            <table class="sy-table">
              <thead>
                <tr>
                  <th>Sr</th>
                  <th>Item</th>
                  <th>Action</th>
                  <th>Reference Value</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="static-table-body"></tbody>
            </table>
          </div>
          <div id="static-empty" class="mt-3"></div>
        </section>

        <section class="sy-panel sy-section">
          <div class="sy-header-row">
            <div>
              <h3 class="sy-title">General Instruction</h3>
              <p class="sy-subtitle">Instruction content is shared with report generation and blank format print.</p>
            </div>
            <div class="sy-mini-meta" id="instruction-updated-at">Updated: -</div>
          </div>
          <div id="instruction-preview" class="sy-text-block mt-3"></div>
        </section>
      </div>
    </div>
  </main>

  <div id="static-row-modal" class="sy-modal" aria-hidden="true">
    <div class="sy-modal-panel">
      <div class="sy-modal-head sy-header-row">
        <h3 id="static-row-modal-title" class="sy-modal-title">Add Static Record</h3>
        <button type="button" data-close-modal="true" class="sy-btn sy-btn-ghost">Close</button>
      </div>
      <form id="static-row-form">
        <div class="sy-modal-body">
          <input type="hidden" id="static-row-id">
          <div class="sy-field">
            <label class="sy-label" for="static-item">Item</label>
            <input id="static-item" class="sy-input" type="text" maxlength="250" placeholder="Enter checklist item">
          </div>
          <div class="sy-modal-grid">
            <div class="sy-field">
              <label class="sy-label" for="static-action">Action</label>
              <input id="static-action" class="sy-input" type="text" maxlength="250" placeholder="Action guidance">
            </div>
            <div class="sy-field">
              <label class="sy-label" for="static-reference">Reference Value</label>
              <input id="static-reference" class="sy-input" type="text" maxlength="180" placeholder="Reference value">
            </div>
          </div>
        </div>
        <div class="sy-modal-foot">
          <button type="button" data-close-modal="true" class="sy-btn sy-btn-ghost">Cancel</button>
          <button type="submit" class="sy-btn sy-btn-primary">Save</button>
        </div>
      </form>
    </div>
  </div>

  <div id="instruction-modal" class="sy-modal" aria-hidden="true">
    <div class="sy-modal-panel">
      <div class="sy-modal-head sy-header-row">
        <h3 class="sy-modal-title">Edit Instruction</h3>
        <button type="button" data-close-modal="true" class="sy-btn sy-btn-ghost">Close</button>
      </div>
      <form id="instruction-form">
        <div class="sy-modal-body">
          <div class="sy-field">
            <label class="sy-label" for="instruction-input">Instruction Text</label>
            <textarea id="instruction-input" class="sy-input sy-input-area" rows="6" placeholder="Enter report instruction"></textarea>
          </div>
        </div>
        <div class="sy-modal-foot">
          <button type="button" data-close-modal="true" class="sy-btn sy-btn-ghost">Cancel</button>
          <button type="submit" class="sy-btn sy-btn-primary">Update Instruction</button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="/src/js/sy_pm/page_static.js"></script>
</body>

</html>
