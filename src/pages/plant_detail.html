<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plant Detail | GNFC</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          colors: {
            'dark-bg': '#0f172a',       /* Slate 900 */
            'dark-panel': '#1e293b',    /* Slate 800 */
            'dark-header': '#1e293b',
            'dark-border': '#334155',   /* Slate 700 */
            'dark-text': '#f8fafc',     /* Slate 50 */
            'dark-muted': '#94a3b8',    /* Slate 400 */
            'gnfc-blue': '#3b82f6',     /* Blue 500 */
            'gnfc-orange': '#f97316',   /* Orange 500 */
            'gnfc-green': '#10b981',    /* Emerald 500 */
            'gnfc-red': '#ef4444',      /* Red 500 */
          }
        }
      }
    }
  </script>

  <style>
    /* --- Core UI Styles --- */
    body { font-family: 'Inter', sans-serif; }
    
    /* Glassmorphism Utilities */
    .glass-panel {
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    .glass-header {
      background: rgba(15, 23, 42, 0.85);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid rgba(51, 65, 85, 0.5);
    }

    /* Scrollbars */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: #0f172a; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #475569; }

    /* Table Sticky Header */
    thead th { position: sticky; top: 0; z-index: 10; }

    /* --- Modal Styles --- */
    .elog-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.75);
      z-index: 100;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      backdrop-filter: blur(4px);
      opacity: 0;
      transition: opacity 0.2s ease-in-out;
    }

    .elog-overlay.is-open {
      display: flex;
      opacity: 1;
    }

    .elog-modal-panel {
      width: min(980px, 96vw);
      max-height: 90vh;
      overflow-y: auto;
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 12px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      color: #f8fafc;
      transform: scale(0.95);
      transition: transform 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .elog-overlay.is-open .elog-modal-panel {
      transform: scale(1);
    }

    /* Status Badges */
    .status-badge {
      display: inline-flex;
      align-items: center;
      padding: 0.125rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.65rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    .status-progress { background: rgba(245, 158, 11, 0.15); color: #fbbf24; border: 1px solid rgba(245, 158, 11, 0.3); }
    .status-over { background: rgba(16, 185, 129, 0.15); color: #34d399; border: 1px solid rgba(16, 185, 129, 0.3); }
    .status-hold { background: rgba(239, 68, 68, 0.15); color: #f87171; border: 1px solid rgba(239, 68, 68, 0.3); }

    /* Custom Input Autofill Fix */
    input:-webkit-autofill, select:-webkit-autofill, textarea:-webkit-autofill {
      -webkit-box-shadow: 0 0 0px 1000px #1e293b inset;
      -webkit-text-fill-color: white;
    }
  </style>
</head>

<body class="bg-dark-bg text-dark-text h-screen flex overflow-hidden selection:bg-gnfc-blue selection:text-white">

  <script src="/src/js/theme_manager.js"></script>
  <script src="/src/js/sidebar.js"></script>
  <script src="/src/js/header.js"></script>

  <div id="sidebar-container" class="hidden md:block z-30"></div>
  <script>try { renderSidebar('technician_logbook'); } catch (e) {}</script>

  <main class="flex-1 flex flex-col h-screen overflow-hidden relative">
    
    <div class="absolute inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-gnfc-blue/10 rounded-full blur-[120px] opacity-60"></div>
        <div class="absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-gnfc-orange/5 rounded-full blur-[100px] opacity-40"></div>
    </div>

    <div id="header-container" class="relative z-20"></div>
    <script>
      // Assuming the modern renderHeader function is loaded
      try {
        renderHeader({
          title: "Plant Logbook",
          breadcrumbs: [
             { label: "Technician Log", href: "/src/pages/technician_logbook.html" },
             { label: "Plant Detail" }
          ],
          backLink: "/src/pages/technician_logbook.html"
        });
      } catch(e) { console.warn("Header script not found, using fallback"); }
    </script>

    <div class="flex-1 overflow-y-auto z-10 custom-scrollbar flex flex-col">
      
      <div id="plant-nav-container" class="sticky top-0 z-30 bg-dark-bg/80 backdrop-blur-md border-b border-dark-border"></div>
      <script src="/src/js/plant_nav.js"></script>
      <script> try { renderPlantNav('logs'); } catch(e){} </script>

      <div class="p-4 sm:p-6 space-y-6">

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            <div class="glass-panel p-4 rounded-xl relative overflow-hidden group">
                <div class="absolute right-2 top-2 p-2 bg-blue-500/10 rounded-lg text-gnfc-blue group-hover:bg-blue-500 group-hover:text-white transition-colors">
                    <i class="ph-bold ph-notebook text-xl"></i>
                </div>
                <p class="text-[10px] font-bold text-dark-muted uppercase tracking-wider">Total Entries</p>
                <h3 class="text-2xl font-bold text-white mt-1">124</h3>
                <div class="mt-3 flex items-center gap-2 text-xs">
                    <span class="text-gnfc-green flex items-center gap-1 font-bold"><i class="ph-bold ph-trend-up"></i> +12%</span>
                    <span class="text-dark-muted">vs yesterday</span>
                </div>
            </div>

            <div class="glass-panel p-4 rounded-xl relative overflow-hidden group">
                <div class="absolute right-2 top-2 p-2 bg-orange-500/10 rounded-lg text-gnfc-orange group-hover:bg-orange-500 group-hover:text-white transition-colors">
                    <i class="ph-bold ph-clock-countdown text-xl"></i>
                </div>
                <p class="text-[10px] font-bold text-dark-muted uppercase tracking-wider">Pending Jobs</p>
                <h3 class="text-2xl font-bold text-white mt-1">8</h3>
                <div class="w-full bg-dark-bg h-1.5 rounded-full mt-3 overflow-hidden">
                    <div class="bg-gnfc-orange h-full rounded-full" style="width: 35%"></div>
                </div>
            </div>

            <div class="glass-panel p-4 rounded-xl relative overflow-hidden group">
                <div class="absolute right-2 top-2 p-2 bg-emerald-500/10 rounded-lg text-gnfc-green group-hover:bg-emerald-500 group-hover:text-white transition-colors">
                    <i class="ph-bold ph-check-circle text-xl"></i>
                </div>
                <p class="text-[10px] font-bold text-dark-muted uppercase tracking-wider">Completed</p>
                <h3 class="text-2xl font-bold text-white mt-1">116</h3>
                <div class="w-full bg-dark-bg h-1.5 rounded-full mt-3 overflow-hidden">
                    <div class="bg-gnfc-green h-full rounded-full" style="width: 92%"></div>
                </div>
            </div>

             <div class="glass-panel p-0 rounded-xl flex flex-col items-center justify-center bg-gradient-to-br from-dark-panel to-dark-bg border-dashed border-2 border-dark-border hover:border-gnfc-blue/50 transition-colors cursor-pointer group" onclick="AddLogModal.open()">
                <div class="h-10 w-10 rounded-full bg-gnfc-blue/10 flex items-center justify-center text-gnfc-blue group-hover:scale-110 transition-transform mb-2">
                    <i class="ph-bold ph-plus text-xl"></i>
                </div>
                <span class="text-xs font-bold text-dark-text group-hover:text-white">Create New Log</span>
            </div>
        </div>

        <div class="glass-panel rounded-lg p-2 flex flex-col lg:flex-row items-center justify-between gap-4 sticky top-20 z-20"> <div class="flex bg-dark-bg/50 p-1 rounded-md border border-dark-border w-full lg:w-auto overflow-x-auto">
                <button onclick="switchView(this, 'today')" class="tab-btn flex-1 lg:flex-none px-4 py-1.5 text-xs font-bold rounded text-white bg-gnfc-blue shadow-sm transition-all">Today</button>
                <button onclick="switchView(this, 'tomorrow')" class="tab-btn flex-1 lg:flex-none px-4 py-1.5 text-xs font-bold rounded text-dark-muted hover:text-white transition-all">Tmrw</button>
                <button onclick="switchView(this, 'prev')" class="tab-btn flex-1 lg:flex-none px-4 py-1.5 text-xs font-bold rounded text-dark-muted hover:text-white transition-all">Prev</button>
                <div class="w-px bg-dark-border mx-1 my-1"></div>
                <button onclick="switchView(this, 'weekly')" class="tab-btn flex-1 lg:flex-none px-4 py-1.5 text-xs font-bold rounded text-dark-muted hover:text-white transition-all">Week</button>
                <button onclick="switchView(this, 'monthly')" class="tab-btn flex-1 lg:flex-none px-4 py-1.5 text-xs font-bold rounded text-dark-muted hover:text-white transition-all">Month</button>
            </div>

            <div class="flex items-center gap-2 w-full lg:w-auto justify-end">
                <button onclick="togglePendingMode()" class="px-3 py-1.5 text-xs font-bold text-dark-muted hover:text-gnfc-orange border border-transparent hover:border-dark-border rounded bg-transparent hover:bg-dark-bg transition-all flex items-center gap-2">
                    <i class="ph-bold ph-clock"></i> <span class="hidden sm:inline">Pending</span>
                </button>
                
                <button onclick="openReminderModal()" class="px-3 py-1.5 text-xs font-bold text-dark-muted hover:text-purple-400 border border-transparent hover:border-dark-border rounded bg-transparent hover:bg-dark-bg transition-all flex items-center gap-2">
                    <i class="ph-bold ph-calendar-check"></i> <span class="hidden sm:inline">Planner</span>
                </button>

                <div class="relative group">
                    <button class="px-3 py-1.5 bg-dark-bg hover:bg-dark-header border border-dark-border text-xs font-bold text-white rounded flex items-center gap-2 transition-all">
                        <span>Actions</span>
                        <i class="ph-bold ph-caret-down"></i>
                    </button>
                    <div class="absolute right-0 top-full mt-2 w-48 bg-dark-panel border border-dark-border shadow-xl rounded-lg p-1 hidden group-hover:block z-30">
                        <button onclick="openDatewiseModal()" class="w-full text-left px-3 py-2 text-xs font-medium text-dark-muted hover:text-white hover:bg-white/5 rounded-md flex items-center gap-2">
                            <i class="ph-bold ph-calendar"></i> Datewise Report
                        </button>
                        <button onclick="openMonthlyModal()" class="w-full text-left px-3 py-2 text-xs font-medium text-dark-muted hover:text-white hover:bg-white/5 rounded-md flex items-center gap-2">
                            <i class="ph-bold ph-file-text"></i> Monthly Report
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="glass-panel rounded-xl overflow-hidden flex flex-col min-h-[400px]">
             <div class="px-4 py-3 border-b border-dark-border bg-dark-bg/30 flex flex-wrap justify-between items-center gap-3">
                <div class="flex items-center gap-2">
                    <div class="h-2 w-2 rounded-full bg-gnfc-green animate-pulse"></div>
                    <span id="view-title" class="text-sm font-bold text-white tracking-wide">Today Log Book</span>
                    <span id="record-count" class="text-[10px] bg-dark-border px-2 py-0.5 rounded-full text-dark-muted font-mono">0</span>
                </div>
                
                <div class="relative">
                    <i class="ph-bold ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-dark-muted text-xs"></i>
                    <input type="text" id="table-search" placeholder="Filter logs..." class="bg-dark-bg border border-dark-border text-white text-xs rounded-full pl-8 pr-4 py-1.5 w-64 focus:border-gnfc-blue focus:ring-1 focus:ring-gnfc-blue/50 outline-none transition-all" onkeyup="plantLogTable.setSearch(this.value)">
                </div>
             </div>

             <div class="flex-1 overflow-auto">
                <table id="plant-table" class="w-full text-left border-collapse">
                    <thead class="bg-dark-header text-[10px] font-bold text-dark-muted uppercase tracking-wider">
                        <tr>
                            <th class="p-3 border-b border-dark-border w-12 text-center">Sr</th>
                            <th class="p-3 border-b border-dark-border w-24">Area</th>
                            <th class="p-3 border-b border-dark-border w-32">Tag</th>
                            <th class="p-3 border-b border-dark-border">Job Type</th>
                            <th class="p-3 border-b border-dark-border min-w-[300px]">Description</th>
                            <th class="p-3 border-b border-dark-border">Assigned</th>
                            <th class="p-3 border-b border-dark-border">Status</th>
                            <th class="p-3 border-b border-dark-border w-20 text-center">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="plantTableBody" class="text-xs font-mono divide-y divide-dark-border/50 text-dark-text">
                        <tr>
                            <td colspan="8" class="p-8 text-center text-dark-muted italic">
                                Loading data or no records found...
                            </td>
                        </tr>
                    </tbody>
                </table>
             </div>
             
             <div id="plant-table-pagination" class="px-4 py-3 border-t border-dark-border bg-dark-bg/30"></div>
        </div>

      </div>
    </div>
  </main>

  <div id="job-modal" class="elog-overlay" role="dialog" aria-hidden="true">
    <div class="elog-modal-panel">
        <div class="flex items-center justify-between px-6 py-4 border-b border-dark-border bg-dark-header">
            <h3 id="job-modal-title" class="text-sm font-bold text-white flex items-center gap-2">
                <i class="ph-fill ph-pencil-simple text-gnfc-blue"></i> Assign Job
            </h3>
            <button onclick="closeJobModal()" class="text-dark-muted hover:text-white transition-colors"><i class="ph-bold ph-x text-lg"></i></button>
        </div>
        
        <form id="job-modal-form" class="p-6 space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Date</label>
                    <input id="job-date" type="text" readonly class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none">
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Technician</label>
                    <select id="job-tech" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none"></select>
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Custom Tech</label>
                    <input id="job-tech-custom" type="text" placeholder="Optional" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none">
                </div>

                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Area</label>
                    <select id="job-area" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none"></select>
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Loop</label>
                    <select id="job-loop" onchange="filterTagsForLoop()" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none"></select>
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Tag</label>
                    <select id="job-tag" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none"></select>
                </div>
                
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Job Type</label>
                    <select id="job-type" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none"></select>
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Inst Type</label>
                    <select id="job-inst" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none"></select>
                </div>
                
                <div class="md:col-span-3 space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Description</label>
                    <textarea id="job-desc" rows="4" class="w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-xs text-white focus:border-gnfc-blue outline-none font-mono" placeholder="Describe the task..."></textarea>
                </div>
            </div>

            <div class="pt-4 border-t border-dark-border flex justify-end gap-3">
                <button type="button" onclick="closeJobModal()" class="px-4 py-2 bg-transparent border border-dark-border text-dark-muted hover:text-white rounded-md text-xs font-bold transition-colors">Cancel</button>
                <button type="submit" class="px-6 py-2 bg-gnfc-blue hover:bg-blue-600 text-white rounded-md text-xs font-bold shadow-lg shadow-blue-500/20 transition-all">Save Job</button>
            </div>
        </form>
    </div>
  </div>

  <div id="datewiseModal" class="elog-overlay" role="dialog">
    <div class="elog-modal-panel max-w-md">
        <div class="flex items-center justify-between px-6 py-4 border-b border-dark-border bg-dark-header">
            <h3 class="text-sm font-bold text-white uppercase tracking-wide">Datewise Report</h3>
            <button onclick="closeDatewiseModal()" class="text-dark-muted hover:text-white"><i class="ph-bold ph-x text-lg"></i></button>
        </div>
        <div class="p-6 space-y-5">
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-dark-muted uppercase">Tag No</label>
                <select id="datewiseTagNo" class="w-full bg-dark-bg border border-dark-border text-white text-sm rounded-md px-3 py-2 focus:border-gnfc-blue outline-none">
                    <option value="">All Tags</option>
                    <option value="FVC0208A">FVC0208A</option>
                    <option value="LV412B">LV412B</option>
                </select>
            </div>
            <div class="grid grid-cols-2 gap-4">
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Start Date</label>
                    <input type="date" id="datewiseStartDate" class="w-full bg-dark-bg border border-dark-border text-white text-sm rounded-md px-3 py-2 focus:border-gnfc-blue outline-none">
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">End Date</label>
                    <input type="date" id="datewiseEndDate" class="w-full bg-dark-bg border border-dark-border text-white text-sm rounded-md px-3 py-2 focus:border-gnfc-blue outline-none">
                </div>
            </div>
        </div>
        <div class="px-6 pb-6 flex justify-end gap-3">
             <button onclick="closeDatewiseModal()" class="px-4 py-2 border border-dark-border rounded-md text-xs font-bold text-dark-muted hover:text-white">Close</button>
             <button onclick="generateDatewiseReport()" class="px-4 py-2 bg-gnfc-blue rounded-md text-xs font-bold text-white hover:bg-blue-600">Generate</button>
        </div>
    </div>
  </div>

  <div id="monthlyModal" class="elog-overlay" role="dialog">
    <div class="elog-modal-panel max-w-md">
        <div class="flex items-center justify-between px-6 py-4 border-b border-dark-border bg-dark-header">
            <h3 class="text-sm font-bold text-white uppercase tracking-wide">Monthly Report</h3>
            <button onclick="closeMonthlyModal()" class="text-dark-muted hover:text-white"><i class="ph-bold ph-x text-lg"></i></button>
        </div>
        <div class="p-6 space-y-5">
            <div class="space-y-1">
                <label class="text-[10px] font-bold text-dark-muted uppercase">Product</label>
                <select id="monthlyProduct" class="w-full bg-dark-bg border border-dark-border text-white text-sm rounded-md px-3 py-2 focus:border-gnfc-blue outline-none">
                    <option value="ACETIC_ACID">ACETIC ACID</option>
                    <option value="AMMONIA">AMMONIA</option>
                    <option value="UREA">UREA</option>
                </select>
            </div>
            <div class="grid grid-cols-2 gap-4">
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">Start Date</label>
                    <input type="date" id="monthlyStartDate" class="w-full bg-dark-bg border border-dark-border text-white text-sm rounded-md px-3 py-2 focus:border-gnfc-blue outline-none">
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-dark-muted uppercase">End Date</label>
                    <input type="date" id="monthlyEndDate" class="w-full bg-dark-bg border border-dark-border text-white text-sm rounded-md px-3 py-2 focus:border-gnfc-blue outline-none">
                </div>
            </div>
        </div>
        <div class="px-6 pb-6 flex justify-end gap-3">
             <button onclick="closeMonthlyModal()" class="px-4 py-2 border border-dark-border rounded-md text-xs font-bold text-dark-muted hover:text-white">Close</button>
             <button onclick="generateMonthlyReport()" class="px-4 py-2 bg-gnfc-blue rounded-md text-xs font-bold text-white hover:bg-blue-600">Generate</button>
        </div>
    </div>
  </div>

  <script>
    // --- Toggle Functions for Modals ---
    function openModal(id) {
        const modal = document.getElementById(id);
        if(modal) modal.classList.add('is-open');
        document.body.style.overflow = 'hidden';
    }

    function closeModal(id) {
        const modal = document.getElementById(id);
        if(modal) modal.classList.remove('is-open');
        document.body.style.overflow = '';
    }

    // Specific Wrappers to match existing onclick handlers
    window.AddLogModal = { open: () => openModal('job-modal') };
    window.closeJobModal = () => closeModal('job-modal');
    
    window.openDatewiseModal = () => openModal('datewiseModal');
    window.closeDatewiseModal = () => closeModal('datewiseModal');
    
    window.openMonthlyModal = () => openModal('monthlyModal');
    window.closeMonthlyModal = () => closeModal('monthlyModal');

    window.openReminderModal = () => alert("Planner functionality pending integration."); // Placeholder
    window.togglePendingMode = () => alert("Filtering pending jobs..."); 

    // View Switching Visuals
    window.switchView = function(btn, view) {
        // Reset all buttons
        document.querySelectorAll('.tab-btn').forEach(b => {
            b.className = 'tab-btn flex-1 lg:flex-none px-4 py-1.5 text-xs font-bold rounded text-dark-muted hover:text-white transition-all';
        });
        // Set active
        btn.className = 'tab-btn flex-1 lg:flex-none px-4 py-1.5 text-xs font-bold rounded text-white bg-gnfc-blue shadow-sm transition-all';
        
        document.getElementById('view-title').textContent = view.charAt(0).toUpperCase() + view.slice(1) + " Log Book";
        // Logic to reload table data would go here
    };

    // --- Mock Data Loader for Visual Check ---
    // (This ensures the table isn't empty on the first load so you can see the design)
    document.addEventListener('DOMContentLoaded', () => {
        const tbody = document.getElementById('plantTableBody');
        tbody.innerHTML = `
            <tr class="group hover:bg-white/5 transition-colors">
                <td class="p-3 border-b border-dark-border/50 text-center font-mono text-dark-muted">1</td>
                <td class="p-3 border-b border-dark-border/50 font-bold">400</td>
                <td class="p-3 border-b border-dark-border/50 font-mono text-gnfc-blue">FV0208B</td>
                <td class="p-3 border-b border-dark-border/50"><span class="bg-dark-bg border border-dark-border px-2 py-0.5 rounded text-[10px]">MAINTENANCE</span></td>
                <td class="p-3 border-b border-dark-border/50 text-dark-muted leading-relaxed">
                    Checked and found valve working ok but proxy not proper so same set and stroke check found ok.
                </td>
                <td class="p-3 border-b border-dark-border/50 font-bold">C.K.VARIA</td>
                <td class="p-3 border-b border-dark-border/50"><span class="status-badge status-over">OVER</span></td>
                <td class="p-3 border-b border-dark-border/50 text-center">
                    <button class="text-dark-muted hover:text-white p-1 rounded hover:bg-white/10"><i class="ph-bold ph-pencil-simple"></i></button>
                </td>
            </tr>
            <tr class="group hover:bg-white/5 transition-colors">
                <td class="p-3 border-b border-dark-border/50 text-center font-mono text-dark-muted">2</td>
                <td class="p-3 border-b border-dark-border/50 font-bold">200</td>
                <td class="p-3 border-b border-dark-border/50 font-mono text-gnfc-blue">LT96028</td>
                <td class="p-3 border-b border-dark-border/50"><span class="bg-dark-bg border border-dark-border px-2 py-0.5 rounded text-[10px]">CALIBRATION</span></td>
                <td class="p-3 border-b border-dark-border/50 text-dark-muted leading-relaxed">
                    Process reported LT-96028 was showing sudden increase in level. Zero Calibration done.
                </td>
                <td class="p-3 border-b border-dark-border/50 font-bold">M.D.MODI</td>
                <td class="p-3 border-b border-dark-border/50"><span class="status-badge status-progress">IN PROG</span></td>
                <td class="p-3 border-b border-dark-border/50 text-center">
                    <button class="text-dark-muted hover:text-white p-1 rounded hover:bg-white/10"><i class="ph-bold ph-pencil-simple"></i></button>
                </td>
            </tr>
        `;
    });
  </script>

  <script src="/src/js/plant_log_core.js"></script>
  <script src="/src/js/elogbook_store.js"></script>
</body>
</html>