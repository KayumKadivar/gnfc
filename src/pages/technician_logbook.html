<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plant Sections | GNFC</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="/src/js/tailwind_config.js"></script>
  <script>
    window.activePage = 'technician_logbook';
  </script>

</head>

<body class="bg-dark-bg text-dark-text font-sans h-screen flex overflow-hidden">

  <script src="/src/js/theme_manager.js"></script>
  <script src="/src/js/sidebar.js"></script>
  <div id="sidebar-container"></div>
  <script>renderSidebar('technician_logbook');</script>

  <main class="flex-1 flex flex-col h-screen overflow-hidden">

    <header class="h-14 bg-dark-bg border-b border-dark-border flex items-center justify-between px-6 shrink-0">

      <div class="flex items-center gap-2 text-lg font-medium text-white">
        <!-- <i class="ph ph-factory "></i> -->
        <span>Technician's Logbook</span>
      </div>

      <div class="flex items-center gap-2">
        <div class="flex items-center bg-dark-panel border border-dark-border rounded-sm">
          <button onclick="ThemeManager.decreaseFontSize()"
            class="w-8 h-8 flex items-center justify-center text-dark-text hover:text-white hover:bg-dark-border/50 transition-colors border-r border-dark-border"
            title="Decrease Font Size">
            <i class="ph-bold ph-minus text-xs"></i>
          </button>
          <div class="w-px h-4 bg-dark-border"></div>
          <button onclick="ThemeManager.increaseFontSize()"
            class="w-8 h-8 flex items-center justify-center text-dark-text hover:text-white hover:bg-dark-border/50 transition-colors"
            title="Increase Font Size">
            <i class="ph-bold ph-plus text-xs"></i>
          </button>
        </div>
        <div class="relative hidden md:block mr-1">
          <i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-dark-muted text-xs"></i>
          <input type="text" placeholder="Global Search..."
            class="bg-dark-panel border border-dark-border text-dark-text text-xs rounded-sm pl-8 pr-3 h-8 focus:border-gnfc-blue focus:outline-none transition-colors w-64 placeholder-dark-muted">
        </div>
      </div>

    </header>


    <div class="flex-1 overflow-y-auto p-4 bg-dark-bg">

      <div class="flex items-center gap-4 mb-4 bg-dark-panel p-2 border border-dark-border rounded-sm">

        <div class="flex items-center gap-2 px-2">

          <label class="text-[#5794F2] font-bold text-xs">
            Time Range:
          </label>

          <div class="flex bg-dark-bg rounded-sm border border-dark-border">

            <button
              class="time-btn px-3 py-1 text-xs font-bold border-r border-dark-border text-gnfc-orange bg-dark-header transition-colors"
              aria-pressed="true">
              Today </button>

            <button
              class="time-btn px-3 py-1 text-xs font-bold border-r border-dark-border text-dark-muted hover:text-white hover:bg-dark-header transition-colors"
              aria-pressed="false">
              Yesterday </button>

            <button class="time-btn px-3 py-1 text-xs font-bold text-dark-muted hover:text-white hover:bg-dark-header transition-colors"
              aria-pressed="false"> Weekly </button>

          </div>

        </div>

      </div>


      <div class="bg-dark-panel border border-dark-border rounded-sm">

        <div class="flex items-center justify-between px-4 py-2 border-b border-dark-border">
          <h3 class="font-medium text-gnfc-blue text-sm">
            Select Plant Unit
          </h3>
        </div>

        <div id="plant-grid" class="p-4 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2">
        </div>

      </div>

      <section class="mt-8 mb-4 border border-dark-border rounded-sm bg-dark-panel/60 p-4">

        <div class="flex items-center gap-3 mb-5">
          <span class="h-px flex-1 bg-dark-border"></span>
          <h3 class="text-gnfc-blue font-bold uppercase tracking-[0.2em] text-xs sm:text-sm text-center">
            SHIFT LOGBOOK (OFFICER)
          </h3>
          <span class="h-px flex-1 bg-dark-border"></span>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">

          <button onclick="window.location.href='/src/pages/shift_logbook.html?view=today'"
            class="shift-btn h-12 bg-dark-bg border border-dark-border text-dark-muted font-bold text-sm rounded-sm uppercase tracking-widest hover:bg-gnfc-blue hover:text-white hover:border-gnfc-blue transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gnfc-blue/70">
            TODAY
          </button>

          <button onclick="window.location.href='/src/pages/shift_logbook.html?view=prev'"
            class="shift-btn h-12 bg-dark-bg border border-dark-border text-dark-muted font-bold text-sm rounded-sm uppercase tracking-widest hover:bg-gnfc-blue hover:text-white hover:bg-blue-600  hover:border-gnfc-blue transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gnfc-blue/70">
            PREV DAY
          </button>

          <button onclick="window.location.href='/src/pages/shift_logbook.html?view=weekly'"
            class="shift-btn h-12 bg-dark-bg border border-dark-border text-dark-muted font-bold text-sm rounded-sm uppercase tracking-widest hover:bg-gnfc-blue hover:text-white hover:border-gnfc-blue transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gnfc-blue/70">
            WEEKLY
          </button>

          <button onclick="window.location.href='/src/pages/shift_logbook.html?view=monthly'"
            class="shift-btn h-12 bg-dark-bg border border-dark-border text-dark-muted font-bold text-sm rounded-sm uppercase tracking-widest hover:bg-gnfc-blue hover:text-white hover:border-gnfc-blue transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gnfc-blue/70">
            MONTHLY
          </button>

        </div>

      </section>
    </div>

  </main>


  <script>
    const timeButtons = document.querySelectorAll(".time-btn");

    timeButtons.forEach(button => {
      button.addEventListener("click", function () {
        timeButtons.forEach(btn => {
          btn.classList.remove("text-gnfc-orange", "bg-dark-header");
          btn.classList.add("text-dark-muted");
          btn.setAttribute("aria-pressed", "false");
        });

        this.classList.remove("text-dark-muted");
        this.classList.add("text-gnfc-orange", "bg-dark-header");
        this.setAttribute("aria-pressed", "true");
      });
    });
    
  </script>

  <script>
    // FIX 3: Plant Grid Generation
    const units = [
      'AA', 'AAQM', 'AMM', 'ANIPF', 'ANITDI',
      'ASGP', 'BAGG', 'BOILER', 'CMS', 'CPSU',
      'DM', 'EA', 'FA', 'INST WS', 'M1', 'M2', 'UREA'
    ];

    const grid = document.getElementById('plant-grid');

    // Performance Fix: Create an accumulator string instead of writing to DOM in loop
    let gridContent = '';

    units.forEach((code, i) => {
      const status = i % 4 === 0 ? 'Maint' : 'Run';
      const color = status === 'Run' ? '#73BF69' : '#FF9900';
      const unitNumber = (i + 1).toString().padStart(2, '0');

      gridContent += `
        <a href="/src/pages/plant_detail.html"
           class="bg-dark-bg border border-dark-border hover:border-gnfc-blue
                  p-3 rounded-sm flex items-center justify-between
                  group transition">
            <div class="flex items-center gap-3">
                <div class="text-[10px] font-mono  group-hover:text-white">
                    ${unitNumber}
                </div>
                <div class="font-bold text-sm group-hover:text-[#5794F2]">${code}</div>
            </div>
            <div class="w-2 h-2 rounded-full" style="background-color: ${color}"></div>
        </a>
      `;
    });

    // Write to DOM once
    grid.innerHTML = gridContent;
  </script>


</body>

</html>
