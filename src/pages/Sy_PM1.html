<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SY_PM Report Workspace | GNFC</title>
  <link rel="stylesheet" href="/src/css/ios-fonts.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="/src/js/tailwind_config.js"></script>
  <link rel="stylesheet" href="/src/styles/sy_pm.css">
</head>

<body class="bg-dark-bg text-dark-text font-sans h-screen flex overflow-hidden selection:bg-gnfc-blue selection:text-white">
  <script src="/src/js/theme_manager.js"></script>
  <script src="/src/js/sidebar.js"></script>
  <script src="/src/js/header.js"></script>

  <div id="sidebar-container"></div>
  <script>
    try {
      renderSidebar('technician_logbook');
    } catch (error) {
      console.error(error);
    }
  </script>

  <main class="flex-1 flex flex-col overflow-hidden">
    <div id="header-container"></div>

    <div class="flex-1 overflow-y-auto sy-page-shell bg-dark-bg">
      <div id="plant-nav-container"></div>
      <script src="/src/js/plant_nav.js"></script>
      <script>
        try {
          renderPlantNav('sy_pm');
        } catch (error) {
          console.error(error);
        }
      </script>

      <div class="sy-content">
        <section class="sy-panel sy-section">
          <div class="sy-header-row">
            <div>
              <h2 id="report-context-heading" class="sy-title">SY_PM Report Context</h2>
              <p class="sy-subtitle">Generate, edit and manage report instances for selected system-frequency pair.</p>
            </div>
            <div class="sy-chip-row">
              <span class="sy-chip">System <strong id="report-chip-system">-</strong></span>
              <span class="sy-chip">Frequency <strong id="report-chip-frequency">-</strong></span>
              <span class="sy-chip">Reports <strong id="report-count">0 reports</strong></span>
              <span class="sy-chip">Static <strong id="report-static-count">0 static rows</strong></span>
            </div>
          </div>
          <div class="sy-action-row mt-4">
            <button id="btn-generate-report" type="button" class="sy-btn sy-btn-primary">
              <i class="ph-bold ph-plus-circle mr-1"></i> Generate Report
            </button>
            <button id="btn-save-report" type="button" class="sy-btn sy-btn-success">
              <i class="ph-bold ph-floppy-disk mr-1"></i> Save Report
            </button>
            <button id="btn-delete-report" type="button" class="sy-btn sy-btn-danger">
              <i class="ph-bold ph-trash mr-1"></i> Delete Report
            </button>
            <button id="btn-view-instruction" type="button" class="sy-btn">
              <i class="ph-bold ph-info mr-1"></i> Instructions
            </button>
            <button id="btn-blank-format" type="button" class="sy-btn">
              <i class="ph-bold ph-printer mr-1"></i> Blank Format
            </button>
            <button id="btn-go-static" type="button" class="sy-btn sy-btn-ghost">
              <i class="ph-bold ph-database mr-1"></i> Static Data
            </button>
          </div>
        </section>

        <section class="sy-panel sy-section">
          <div class="sy-split">
            <aside>
              <h3 class="sy-title">Generated Reports</h3>
              <p class="sy-subtitle mb-3">Select a report to edit observation and remark fields.</p>
              <div id="report-list" class="sy-list"></div>
            </aside>

            <section>
              <div class="sy-header-row mb-3">
                <h3 class="sy-title">Report Editor</h3>
                <span id="report-editor-meta" class="sy-mini-meta">-</span>
              </div>
              <div id="report-editor-container"></div>
            </section>
          </div>
        </section>
      </div>
    </div>
  </main>

  <div id="report-instruction-modal" class="sy-modal" aria-hidden="true">
    <div class="sy-modal-panel">
      <div class="sy-modal-head sy-header-row">
        <h3 class="sy-modal-title">SY_PM Instruction</h3>
        <button type="button" data-close-modal="true" class="sy-btn sy-btn-ghost">Close</button>
      </div>
      <div class="sy-modal-body">
        <div id="report-instruction-text" class="sy-text-block"></div>
        <div id="report-instruction-updated" class="sy-mini-meta">Updated: -</div>
      </div>
      <div class="sy-modal-foot">
        <button type="button" data-close-modal="true" class="sy-btn sy-btn-primary">Done</button>
      </div>
    </div>
  </div>

  <script type="module" src="/src/js/sy_pm/page_report.js"></script>
</body>

</html>
