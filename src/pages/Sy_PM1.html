<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GNFC | System Performance Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          colors: {
            'dark-bg': '#0f172a',
            'dark-panel': '#1e293b',
            'dark-border': '#334155',
            'dark-text': '#f8fafc',
            'dark-muted': '#94a3b8',
            'gnfc-blue': '#3b82f6',   /* Adjusted for better contrast */
            'gnfc-cyan': '#06b6d4',
            'gnfc-orange': '#f97316',
            'gnfc-green': '#10b981',
            'gnfc-red': '#ef4444',
          }
        }
      }
    }
  </script>

  <style>
    /* Glassmorphism & Utilities */
    .glass-panel {
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
    }
    
    .glass-header {
      background: rgba(15, 23, 42, 0.85);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid rgba(51, 65, 85, 0.5);
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: #0f172a; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #475569; }

    /* Chart Tooltip Customization */
    .apexcharts-tooltip {
      background: #1e293b !important;
      border-color: #334155 !important;
      color: #fff;
    }
    .apexcharts-tooltip-title {
      background: #0f172a !important;
      border-bottom: 1px solid #334155 !important;
      font-family: 'Inter', sans-serif !important;
    }
    .apexcharts-text {
      fill: #94a3b8 !important;
    }
  </style>
</head>

<body class="bg-dark-bg text-dark-text h-screen flex overflow-hidden selection:bg-gnfc-blue selection:text-white">

  <div class="w-16 bg-dark-panel border-r border-dark-border hidden md:flex flex-col items-center py-6 gap-6 z-20 shrink-0">
    <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-gnfc-blue to-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/20 text-white font-bold text-xl">G</div>
    <div class="flex-1 flex flex-col gap-4 w-full">
      <button class="h-10 w-10 mx-auto rounded-md hover:bg-white/5 text-dark-muted hover:text-white transition-colors flex items-center justify-center"><i class="ph-bold ph-squares-four text-xl"></i></button>
      <button class="h-10 w-10 mx-auto rounded-md bg-gnfc-blue/10 text-gnfc-blue border border-gnfc-blue/20 flex items-center justify-center"><i class="ph-fill ph-chart-line-up text-xl"></i></button>
      <button class="h-10 w-10 mx-auto rounded-md hover:bg-white/5 text-dark-muted hover:text-white transition-colors flex items-center justify-center"><i class="ph-bold ph-notebook text-xl"></i></button>
    </div>
  </div>

  <main class="flex-1 flex flex-col h-screen overflow-hidden relative">
    
    <div class="absolute inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-gnfc-blue/10 rounded-full blur-[100px] animate-pulse"></div>
        <div class="absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-gnfc-cyan/5 rounded-full blur-[120px]"></div>
    </div>

    <header class="h-16 glass-header flex items-center justify-between px-6 shrink-0 z-20 relative">
      <div>
        <h1 class="text-sm font-bold text-gnfc-blue tracking-wide uppercase">Acetic Acid Plant</h1>
        <div class="flex items-center gap-2 text-xs text-dark-muted">
          <span>Plant Detail</span>
          <i class="ph-bold ph-caret-right text-[10px]"></i>
          <span class="text-white font-medium">System Performance Monitoring</span>
        </div>
      </div>
      
      <div class="flex items-center gap-4">
        <div class="flex items-center gap-2 px-3 py-1.5 bg-dark-bg border border-dark-border rounded-full">
          <span class="w-2 h-2 rounded-full bg-gnfc-green animate-pulse"></span>
          <span class="text-xs font-mono text-gnfc-green">LIVE DATA</span>
        </div>
        <button class="p-2 hover:bg-white/5 rounded-full text-dark-muted hover:text-white transition-colors">
          <i class="ph-bold ph-bell text-lg"></i>
        </button>
        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-gray-700 to-gray-600 border border-gray-500"></div>
      </div>
    </header>

    <div class="flex-1 overflow-y-auto p-6 z-10 relative custom-scrollbar">
      
      <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6">
        <div>
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            Analysis Dashboard
            <span class="px-2 py-0.5 rounded text-[10px] bg-gnfc-blue/10 text-gnfc-blue border border-gnfc-blue/20 font-mono">SYS-PM-01</span>
          </h2>
          <p class="text-xs text-dark-muted mt-1">Real-time performance metrics and efficiency tracking.</p>
        </div>

        <div class="glass-panel p-1 rounded-lg flex items-center gap-1">
           <button class="period-btn active px-4 py-1.5 rounded-md text-xs font-bold transition-all text-white bg-gnfc-blue shadow-lg shadow-blue-500/20" data-period="daily">Daily</button>
           <button class="period-btn px-4 py-1.5 rounded-md text-xs font-bold text-dark-muted hover:text-white hover:bg-white/5 transition-all" data-period="weekly">Weekly</button>
           <button class="period-btn px-4 py-1.5 rounded-md text-xs font-bold text-dark-muted hover:text-white hover:bg-white/5 transition-all" data-period="monthly">Monthly</button>
           <button class="period-btn px-4 py-1.5 rounded-md text-xs font-bold text-dark-muted hover:text-white hover:bg-white/5 transition-all" data-period="quarterly">Quarterly</button>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
        <div class="glass-panel rounded-xl p-4 relative overflow-hidden group">
          <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
            <i class="ph-fill ph-lightning text-5xl text-gnfc-blue"></i>
          </div>
          <div class="text-dark-muted text-xs font-bold uppercase tracking-wider mb-1">System Efficiency</div>
          <div class="flex items-end gap-2">
            <span class="text-2xl font-bold text-white">94.8%</span>
            <span class="text-xs text-gnfc-green flex items-center mb-1 font-medium bg-gnfc-green/10 px-1.5 py-0.5 rounded">
              <i class="ph-bold ph-trend-up mr-1"></i> +2.4%
            </span>
          </div>
          <div class="mt-3 w-full bg-dark-bg h-1 rounded-full overflow-hidden">
            <div class="h-full bg-gnfc-blue w-[94.8%]"></div>
          </div>
        </div>

        <div class="glass-panel rounded-xl p-4 relative overflow-hidden group">
          <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
            <i class="ph-fill ph-thermometer text-5xl text-gnfc-orange"></i>
          </div>
          <div class="text-dark-muted text-xs font-bold uppercase tracking-wider mb-1">Avg Temperature</div>
          <div class="flex items-end gap-2">
            <span class="text-2xl font-bold text-white">142°C</span>
            <span class="text-xs text-gnfc-green flex items-center mb-1 font-medium bg-gnfc-green/10 px-1.5 py-0.5 rounded">
              Stable
            </span>
          </div>
           <div id="spark1" class="h-8 mt-1 -ml-2"></div>
        </div>

        <div class="glass-panel rounded-xl p-4 relative overflow-hidden group">
          <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
            <i class="ph-fill ph-drop text-5xl text-gnfc-cyan"></i>
          </div>
          <div class="text-dark-muted text-xs font-bold uppercase tracking-wider mb-1">Flow Rate</div>
          <div class="flex items-end gap-2">
            <span class="text-2xl font-bold text-white">1,240 <span class="text-xs text-dark-muted font-normal">m³/h</span></span>
            <span class="text-xs text-gnfc-red flex items-center mb-1 font-medium bg-gnfc-red/10 px-1.5 py-0.5 rounded">
              <i class="ph-bold ph-trend-down mr-1"></i> -0.8%
            </span>
          </div>
          <div id="spark2" class="h-8 mt-1 -ml-2"></div>
        </div>

        <div class="glass-panel rounded-xl p-4 relative overflow-hidden group">
          <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
            <i class="ph-fill ph-warning-circle text-5xl text-gnfc-red"></i>
          </div>
          <div class="text-dark-muted text-xs font-bold uppercase tracking-wider mb-1">Active Alerts</div>
          <div class="flex items-end gap-2">
            <span class="text-2xl font-bold text-white">0</span>
            <span class="text-xs text-dark-muted mb-1 font-medium">
              System Nominal
            </span>
          </div>
          <div class="mt-3 text-[10px] text-dark-muted">Last check: 2 mins ago</div>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
        
        <div class="glass-panel rounded-xl p-5 lg:col-span-2 flex flex-col">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-sm font-bold text-white flex items-center gap-2">
              <i class="ph-fill ph-chart-line text-gnfc-blue"></i> Production vs Energy
            </h3>

          </div>
          <div id="mainChart" class="flex-1 w-full min-h-[300px]"></div>
        </div>

        <div class="glass-panel rounded-xl p-5 flex flex-col">
          <h3 class="text-sm font-bold text-white flex items-center gap-2 mb-2">
            <i class="ph-fill ph-gauge text-gnfc-orange"></i> Load Capacity
          </h3>
          <div class="flex-1 flex items-center justify-center relative">
            <div id="gaugeChart" class="w-full"></div>
            <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none mt-4">
              <span class="text-2xl font-bold text-white">High</span>
              <span class="text-xs text-dark-muted">Load</span>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-2 mt-2">
             <div class="bg-dark-bg/50 p-2 rounded text-center">
                <div class="text-[10px] text-dark-muted uppercase">Target</div>
                <div class="text-sm font-bold text-white">8500</div>
             </div>
             <div class="bg-dark-bg/50 p-2 rounded text-center">
                <div class="text-[10px] text-dark-muted uppercase">Peak</div>
                <div class="text-sm font-bold text-gnfc-orange">9120</div>
             </div>
          </div>
        </div>
      </div>

      <div class="glass-panel rounded-xl overflow-hidden flex flex-col">
        <div class="p-4 border-b border-dark-border/50 flex justify-between items-center bg-dark-bg/30">
          <h3 class="text-sm font-bold text-white">Recent Performance Events</h3>
          <a href="#" class="text-xs text-gnfc-blue hover:text-white transition-colors">View All Logs</a>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full text-left border-collapse">
            <thead class="bg-dark-bg/50 text-[10px] uppercase text-dark-muted font-bold tracking-wider">
              <tr>
                <th class="p-3">Time</th>
                <th class="p-3">Event Type</th>
                <th class="p-3">Parameters</th>
                <th class="p-3">Status</th>
                <th class="p-3 text-right">Action</th>
              </tr>
            </thead>
            <tbody class="text-xs font-mono text-dark-text divide-y divide-dark-border/30">
              <tr class="hover:bg-white/5 transition-colors">
                <td class="p-3">10:42 AM</td>
                <td class="p-3"><span class="flex items-center gap-2"><i class="ph-fill ph-gear text-gnfc-blue"></i> Auto-Calibration</span></td>
                <td class="p-3">Loop 200 Adjusted</td>
                <td class="p-3"><span class="bg-gnfc-green/10 text-gnfc-green px-2 py-0.5 rounded text-[10px] font-bold border border-gnfc-green/20">SUCCESS</span></td>
                <td class="p-3 text-right"><button class="text-dark-muted hover:text-white"><i class="ph-bold ph-dots-three"></i></button></td>
              </tr>
              <tr class="hover:bg-white/5 transition-colors">
                <td class="p-3">09:15 AM</td>
                <td class="p-3"><span class="flex items-center gap-2"><i class="ph-fill ph-warning text-gnfc-orange"></i> Threshold Warning</span></td>
                <td class="p-3">Pressure > 45 bar</td>
                <td class="p-3"><span class="bg-gnfc-orange/10 text-gnfc-orange px-2 py-0.5 rounded text-[10px] font-bold border border-gnfc-orange/20">ACKNOWLEDGED</span></td>
                <td class="p-3 text-right"><button class="text-dark-muted hover:text-white"><i class="ph-bold ph-dots-three"></i></button></td>
              </tr>
              <tr class="hover:bg-white/5 transition-colors">
                <td class="p-3">08:00 AM</td>
                <td class="p-3"><span class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-gnfc-cyan"></i> Shift Change</span></td>
                <td class="p-3">Operator Handover</td>
                <td class="p-3"><span class="bg-gray-700/30 text-gray-300 px-2 py-0.5 rounded text-[10px] font-bold border border-gray-600/30">LOGGED</span></td>
                <td class="p-3 text-right"><button class="text-dark-muted hover:text-white"><i class="ph-bold ph-dots-three"></i></button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="h-6"></div>
    </div>
  </main>

  <script>
    // --- ApexCharts Configuration ---

    // 1. Sparkline 1 (Temperature)
    var spark1Options = {
      series: [{ data: [25, 66, 41, 89, 63, 25, 44, 12, 36, 9, 54] }],
      chart: { type: 'area', height: 40, sparkline: { enabled: true } },
      stroke: { curve: 'smooth', width: 2 },
      fill: { opacity: 0.3 },
      colors: ['#f97316'],
      tooltip: { fixed: { enabled: false }, x: { show: false }, y: { title: { formatter: function (seriesName) { return '' } } }, marker: { show: false } }
    };
    new ApexCharts(document.querySelector("#spark1"), spark1Options).render();

    // 2. Sparkline 2 (Flow Rate)
    var spark2Options = {
      series: [{ data: [45, 52, 38, 24, 33, 26, 21, 20, 6, 8, 15] }],
      chart: { type: 'bar', height: 40, sparkline: { enabled: true } },
      colors: ['#06b6d4'],
      plotOptions: { bar: { borderRadius: 2, columnWidth: '60%' } },
      tooltip: { fixed: { enabled: false }, x: { show: false }, y: { title: { formatter: function (seriesName) { return '' } } }, marker: { show: false } }
    };
    new ApexCharts(document.querySelector("#spark2"), spark2Options).render();

    // 3. Main Chart (Area)
    var mainChartOptions = {
      series: [{
        name: 'Production Output',
        data: [31, 40, 28, 51, 42, 109, 100]
      }, {
        name: 'Energy Consumption',
        data: [11, 32, 45, 32, 34, 52, 41]
      }],
      chart: {
        height: 350,
        type: 'area',
        fontFamily: 'Inter, sans-serif',
        toolbar: { show: false },
        background: 'transparent'
      },
      dataLabels: { enabled: false },
      stroke: { curve: 'smooth', width: 2 },
      xaxis: {
        type: 'datetime',
        categories: ["2026-02-05T00:00:00.000Z", "2026-02-06T01:30:00.000Z", "2026-02-07T02:30:00.000Z", "2026-02-08T03:30:00.000Z", "2026-02-09T04:30:00.000Z", "2026-02-10T05:30:00.000Z", "2026-02-11T06:30:00.000Z"],
        labels: { style: { colors: '#94a3b8' } },
        axisBorder: { show: false },
        axisTicks: { show: false }
      },
      yaxis: {
        labels: { style: { colors: '#94a3b8' } }
      },
      grid: {
        borderColor: '#334155',
        strokeDashArray: 4,
        yaxis: { lines: { show: true } }
      },
      colors: ['#3b82f6', '#10b981'],
      fill: {
        type: 'gradient',
        gradient: {
          shadeIntensity: 1,
          opacityFrom: 0.4,
          opacityTo: 0.05,
          stops: [0, 90, 100]
        }
      },
      legend: { position: 'top', horizontalAlign: 'right', labels: { colors: '#fff' } }
    };
    var mainChart = new ApexCharts(document.querySelector("#mainChart"), mainChartOptions);
    mainChart.render();

    // 4. Gauge Chart
    var gaugeOptions = {
      series: [88],
      chart: { height: 280, type: 'radialBar', fontFamily: 'Inter, sans-serif' },
      plotOptions: {
        radialBar: {
          startAngle: -135,
          endAngle: 135,
          hollow: { size: '60%', background: 'transparent' },
          track: { background: '#334155', strokeWidth: '100%', margin: 15 },
          dataLabels: { show: false }
        }
      },
      stroke: { lineCap: 'round' },
      fill: {
        type: 'gradient',
        gradient: {
          shade: 'dark',
          type: 'horizontal',
          shadeIntensity: 0.5,
          gradientToColors: ['#f97316'],
          inverseColors: true,
          opacityFrom: 1,
          opacityTo: 1,
          stops: [0, 100]
        }
      },
      colors: ['#ef4444'],
      labels: ['Efficiency'],
    };
    new ApexCharts(document.querySelector("#gaugeChart"), gaugeOptions).render();

    // --- Interactivity Logic ---
    const btns = document.querySelectorAll('.period-btn');
    
    btns.forEach(btn => {
        btn.addEventListener('click', function() {
            // Remove active class from all
            btns.forEach(b => {
                b.classList.remove('bg-gnfc-blue', 'text-white', 'shadow-lg', 'shadow-blue-500/20', 'active');
                b.classList.add('text-dark-muted');
            });
            // Add active class to clicked
            this.classList.remove('text-dark-muted');
            this.classList.add('bg-gnfc-blue', 'text-white', 'shadow-lg', 'shadow-blue-500/20', 'active');
            
            // Mock Data Update based on selection
            const period = this.getAttribute('data-period');
            updateCharts(period);
        });
    });

    function updateCharts(period) {
        // Just mocking random data updates for visual effect
        const newData1 = Array.from({length: 7}, () => Math.floor(Math.random() * 100) + 20);
        const newData2 = Array.from({length: 7}, () => Math.floor(Math.random() * 80) + 10);
        
        mainChart.updateSeries([
            { data: newData1 },
            { data: newData2 }
        ]);
    }
  </script>
  <script src="/src/js/pagination.js"></script>
</body>
</html>