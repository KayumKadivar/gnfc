<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GNFC | Login</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'gradient': 'gradient-shift 8s ease infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-10px) rotate(2deg)' },
                        },
                        'gradient-shift': {
                            '0%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                            '100%': { backgroundPosition: '0% 50%' },
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-sky-50 to-teal-50 font-sans text-slate-800">

    <div class="absolute w-72 h-72 bg-teal-500/20 rounded-full blur-3xl -top-24 -right-24 animate-float pointer-events-none"></div>
    <div class="absolute w-48 h-48 bg-cyan-500/15 rounded-full blur-3xl -bottom-12 -left-12 animate-float pointer-events-none"
        style="animation-delay: 2s;"></div>
    <div class="absolute w-36 h-36 bg-blue-500/10 rounded-full blur-3xl top-1/2 left-1/5 animate-float pointer-events-none"
        style="animation-delay: 4s;"></div>

    <main class="min-h-screen flex items-center justify-center px-4 py-8 relative z-10">
        <div class="w-full max-w-md">

            <div class="bg-white/95 backdrop-blur-xl border border-black/5 rounded-2xl shadow-2xl overflow-hidden ring-1 ring-black/5">

                <div class="">
                  <img src="/src/assets/images/gnfc-full-logo.png" onerror="this.onerror=null;this.src='/src/assets/images/gnfc-logo.png';" class="w-32 h-32 mx-auto object-contain" alt="GNFC Logo">
                </div>

                <div class="px-8 py-8 bg-white">
                    <p id="login-subtitle" class="text-slate-500 text-sm mb-8 leading-relaxed">
                        Welcome back. Please enter your credentials to access the system.
                    </p>

                    <form id="loginForm" onsubmit="handleLogin(event)" class="space-y-5">

                        <div class="space-y-1.5">
                            <label for="ec-no" class="block text-slate-700 text-xs font-bold uppercase tracking-wide">
                                EC Number
                            </label>
                            <div class="relative group">
                                <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-slate-400 group-focus-within:text-teal-500 transition-colors">
                                    <i class="ph-bold ph-user text-lg"></i>
                                </span>
                                <input type="text" id="ec-no" name="ec-no" placeholder="e.g. 123456" required
                                    class="w-full pl-10 pr-4 py-3 text-sm rounded-lg bg-slate-50 border border-slate-200 text-slate-800 placeholder-slate-400 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 focus:outline-none transition-all">
                            </div>
                        </div>

                        <div class="space-y-1.5">
                            <label for="password" class="block text-slate-700 text-xs font-bold uppercase tracking-wide">
                                Password
                            </label>
                            <div class="relative group">
                                <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-slate-400 group-focus-within:text-teal-500 transition-colors">
                                    <i class="ph-bold ph-lock-key text-lg"></i>
                                </span>
                                <input type="password" id="password" name="password" placeholder="••••••••" required
                                    class="w-full pl-10 pr-10 py-3 text-sm rounded-lg bg-slate-50 border border-slate-200 text-slate-800 placeholder-slate-400 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 focus:outline-none transition-all">
                                
                                <button type="button" onclick="togglePassword('password')" class="absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-600 transition-colors">
                                    <i class="ph-bold ph-eye" id="password-icon"></i>
                                </button>
                            </div>
                        </div>

                        <div id="email-row" class="space-y-1.5 hidden">
                            <label for="email-password" class="block text-slate-700 text-xs font-bold uppercase tracking-wide">
                                Email Password
                            </label>
                            <div class="relative group">
                                <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-slate-400 group-focus-within:text-teal-500 transition-colors">
                                    <i class="ph-bold ph-envelope-simple text-lg"></i>
                                </span>
                                <input type="password" id="email-password" name="email-password" placeholder="Email Password"
                                    class="w-full pl-10 pr-4 py-3 text-sm rounded-lg bg-slate-50 border border-slate-200 text-slate-800 placeholder-slate-400 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 focus:outline-none transition-all">
                            </div>
                        </div>

                        <div class="pt-2">
                            <button type="submit" id="submitBtn"
                                class="w-full relative overflow-hidden bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-bold uppercase tracking-wider py-3.5 px-6 rounded-lg shadow-lg shadow-teal-500/30 hover:shadow-xl hover:shadow-teal-500/40 hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2 group">
                                <span>Sign In</span>
                                <i class="ph-bold ph-arrow-right group-hover:translate-x-1 transition-transform"></i>
                            </button>
                            
                            <button type="button" id="view-btn"
                                class="hidden mt-3 w-full bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm font-bold uppercase tracking-wider py-3.5 px-6 rounded-lg border border-slate-200 transition-all">
                                View As Guest
                            </button>
                        </div>
                    </form>
                </div>

                <!-- <div class="bg-slate-50/80 border-t border-slate-200 px-8 py-4 flex items-center justify-between">
                    <a href="index.html" class="text-slate-500 hover:text-teal-600 font-medium text-xs flex items-center gap-1.5 transition-colors group">
                        <i class="ph-bold ph-arrow-left group-hover:-translate-x-1 transition-transform"></i>
                        Back to Home
                    </a>
                    <div id="section-chip" class="bg-white px-3 py-1 rounded-full border border-slate-200 text-[10px] font-bold uppercase tracking-wide text-slate-500 shadow-sm">
                        SECTION: IIMS
                    </div> -->
                </div>
            </div>

            <!-- <div class="mt-8 text-center space-y-2">
                <p class="text-slate-400 text-xs flex items-center justify-center gap-1.5">
                    <i class="ph-fill ph-lock-key text-slate-400"></i>
                    Secure SSL Connection
                </p>
                <p class="text-slate-400/60 text-[10px]">
                    &copy; 2026 GNFC Instrument Dept. All rights reserved.
                </p>
            </div> -->
        </div>
    </main>

    <script>
        // URL Parameter Logic
        const params = new URLSearchParams(window.location.search);
        const section = (params.get('section') || 'iims').toLowerCase();

        const config = {
            iims: { title: 'IIMS Login', subtitle: 'Secure access to instrumentation workflows.', chip: 'IIMS', showEmail: true, showView: false },
            utility: { title: 'Utility Login', subtitle: 'Access standards and contact directory.', chip: 'UTILITY', showEmail: false, showView: true },
            oprjob: { title: 'OPRJOB Login', subtitle: 'Manage operation job logs and shifts.', chip: 'OPRJOB', showEmail: false, showView: false },
            'eng-doc': { title: 'Engineering Docs', subtitle: 'Retrieve technical drawings and manuals.', chip: 'ENG_DOC', showEmail: false, showView: false },
            help: { title: 'Help Login', subtitle: 'Support guides and procedures.', chip: 'HELP', showEmail: false, showView: false }
        };

        const current = config[section] || config.iims;
        
        // Update UI Text
        document.getElementById('login-title').textContent = current.title;
        document.getElementById('login-subtitle').textContent = current.subtitle;
        document.getElementById('section-chip').textContent = `SECTION: ${current.chip}`;

        // Toggle Fields
        if (!current.showEmail) document.getElementById('email-row').classList.add('hidden');
        else document.getElementById('email-row').classList.remove('hidden');

        if (current.showView) {
            const viewBtn = document.getElementById('view-btn');
            viewBtn.classList.remove('hidden');
            viewBtn.onclick = () => window.location.href = '/src/pages/dashboard.html'; // Mock action
        }

        // Feature: Toggle Password Visibility
        function togglePassword(fieldId) {
            const input = document.getElementById(fieldId);
            const icon = document.getElementById(fieldId + '-icon');
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove('ph-eye');
                icon.classList.add('ph-eye-slash');
            } else {
                input.type = "password";
                icon.classList.remove('ph-eye-slash');
                icon.classList.add('ph-eye');
            }
        }

        // Feature: Simulate Login Loading
        function handleLogin(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const originalContent = btn.innerHTML;
            
            // Loading State
            btn.disabled = true;
            btn.innerHTML = `<i class="ph-bold ph-spinner animate-spin text-lg"></i><span>Verifying...</span>`;
            
            // Simulate API delay
            setTimeout(() => {
                btn.innerHTML = `<i class="ph-bold ph-check text-lg"></i><span>Success</span>`;
                btn.classList.remove('from-teal-600', 'to-cyan-600');
                btn.classList.add('from-emerald-500', 'to-green-600');
                
                setTimeout(() => {
                    window.location.href = '/src/pages/dashboard.html';
                }, 500);
            }, 1000);
        }
    </script>
</body>
</html>