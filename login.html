<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GNFC | Login</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          animation: {
            'float': 'float 6s ease-in-out infinite',
            'gradient': 'gradient-shift 8s ease infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
              '50%': { transform: 'translateY(-10px) rotate(2deg)' },
            },
            'gradient-shift': {
              '0%': { backgroundPosition: '0% 50%' },
              '50%': { backgroundPosition: '100% 50%' },
              '100%': { backgroundPosition: '0% 50%' },
            }
          }
        }
      }
    }
  </script>
</head>

<body
  class="min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-sky-50 to-teal-50 font-sans text-slate-800">

  <div
    class="absolute w-72 h-72 bg-teal-500/20 rounded-full blur-3xl -top-24 -right-24 animate-float pointer-events-none">
  </div>
  <div
    class="absolute w-48 h-48 bg-cyan-500/15 rounded-full blur-3xl -bottom-12 -left-12 animate-float pointer-events-none"
    style="animation-delay: 2s;"></div>
  <div
    class="absolute w-36 h-36 bg-blue-500/10 rounded-full blur-3xl top-1/2 left-1/5 animate-float pointer-events-none"
    style="animation-delay: 4s;"></div>

  <main class="min-h-screen flex items-center justify-center px-4 py-8 relative z-10">
    <div class="w-full max-w-md">

      <div
        class="bg-white/95 backdrop-blur-xl border border-black/5 rounded-2xl shadow-2xl overflow-hidden ring-1 ring-black/5">

        <div class="">
          <img src="/src/assets/images/gnfc-full-logo.png"
            onerror="this.onerror=null;this.src='/src/assets/images/gnfc-logo.png';"
            class="w-32 h-32 mx-auto object-contain" alt="GNFC Logo">
        </div>

        <div class="px-8 py-8 bg-white">
          <p id="login-subtitle" class="text-slate-500 text-sm mb-8 leading-relaxed">
            Welcome back. Please enter your credentials to access the system.
          </p>

          <form id="loginForm" action="/src/pages/dashboard.html" class="space-y-5">

            <div class="space-y-1.5">
              <label class="block text-slate-700 text-xs font-bold uppercase tracking-wide">
                Login As
              </label>
              <div class="grid grid-cols-3 gap-2">
                <button type="button" data-role="technician" data-user-name="Technician"
                  class="role-btn py-2.5 px-2 text-[11px] font-bold uppercase tracking-wide rounded-lg border border-slate-200 bg-slate-50 text-slate-600 hover:border-teal-300 hover:text-teal-700 transition-colors">
                  Technician
                </button>
                <button type="button" data-role="engineer" data-user-name="Engineer"
                  class="role-btn py-2.5 px-2 text-[11px] font-bold uppercase tracking-wide rounded-lg border border-slate-200 bg-slate-50 text-slate-600 hover:border-teal-300 hover:text-teal-700 transition-colors">
                  Engineer
                </button>
                <button type="button" data-role="manager" data-user-name="Manager"
                  class="role-btn py-2.5 px-2 text-[11px] font-bold uppercase tracking-wide rounded-lg border border-slate-200 bg-slate-50 text-slate-600 hover:border-teal-300 hover:text-teal-700 transition-colors">
                  Manager
                </button>
              </div>
            </div>

            <div class="space-y-1.5">
              <label for="ec-no" class="block text-slate-700 text-xs font-bold uppercase tracking-wide">
                EC Number
              </label>
              <div class="relative group">
                <span
                  class="absolute inset-y-0 left-0 pl-3 flex items-center text-slate-400 group-focus-within:text-teal-500 transition-colors">
                  <i class="ph-bold ph-user text-lg"></i>
                </span>
                <input type="text" id="ec-no" name="ec-no" placeholder="e.g. 123456"
                  class="w-full pl-10 pr-4 py-3 text-sm rounded-lg bg-slate-50 border border-slate-200 text-slate-800 placeholder-slate-400 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 focus:outline-none transition-all">
              </div>
            </div>

            <div class="space-y-1.5">
              <label for="password" class="block text-slate-700 text-xs font-bold uppercase tracking-wide">
                Password
              </label>
              <div class="relative group">
                <span
                  class="absolute inset-y-0 left-0 pl-3 flex items-center text-slate-400 group-focus-within:text-teal-500 transition-colors">
                  <i class="ph-bold ph-lock-key text-lg"></i>
                </span>
                <input type="password" id="password" name="password" placeholder="••••••••"
                  class="w-full pl-10 pr-10 py-3 text-sm rounded-lg bg-slate-50 border border-slate-200 text-slate-800 placeholder-slate-400 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 focus:outline-none transition-all">

                <button type="button" onclick="togglePassword('password')"
                  class="absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-600 transition-colors">
                  <i class="ph-bold ph-eye" id="password-icon"></i>
                </button>
              </div>
            </div>

            <div id="email-row" class="space-y-1.5">
              <label for="email-password" class="block text-slate-700 text-xs font-bold uppercase tracking-wide">
                Email Password
              </label>
              <div class="relative group">
                <span
                  class="absolute inset-y-0 left-0 pl-3 flex items-center text-slate-400 group-focus-within:text-teal-500 transition-colors">
                  <i class="ph-bold ph-envelope-simple text-lg"></i>
                </span>
                <input type="password" id="email-password" name="email-password" placeholder="Email Password"
                  class="w-full pl-10 pr-4 py-3 text-sm rounded-lg bg-slate-50 border border-slate-200 text-slate-800 placeholder-slate-400 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 focus:outline-none transition-all">
              </div>
            </div>

            <!-- <div id="sign-in-row" class="pt-2">
              <button type="submit" id="submitBtn"
                class="w-full relative overflow-hidden bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-bold uppercase tracking-wider py-3.5 px-6 rounded-lg shadow-lg shadow-teal-500/30 hover:shadow-xl hover:shadow-teal-500/40 hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2 group">
                <span>Sign In</span>
                <i class="ph-bold ph-arrow-right group-hover:translate-x-1 transition-transform"></i>
              </button>
            </div> -->
          </form>
        </div>
      </div>
    </div>

    </div>
  </main>

  <script>
    function togglePassword(inputId) {
      const input = document.getElementById(inputId);
      const icon = document.getElementById(`${inputId}-icon`);
      if (!input || !icon) return;

      const isPassword = input.type === 'password';
      input.type = isPassword ? 'text' : 'password';
      icon.classList.toggle('ph-eye', !isPassword);
      icon.classList.toggle('ph-eye-slash', isPassword);
    }

    function selectRole(button, shouldRedirect) {
      const buttons = document.querySelectorAll('.role-btn');
      const signInRow = document.getElementById('sign-in-row');

      buttons.forEach((btn) => {
        btn.classList.remove('border-teal-600', 'bg-teal-600', 'text-white', 'hover:text-white');
        btn.classList.add('border-slate-200', 'bg-slate-50', 'text-slate-600');
      });

      button.classList.remove('border-slate-200', 'bg-slate-50', 'text-slate-600');
      button.classList.add('border-teal-600', 'bg-teal-600', 'text-white', 'hover:text-white');

      localStorage.setItem('userRole', button.dataset.role || '');
      localStorage.setItem('currentUserName', button.dataset.userName || 'Admin User');

      if (signInRow) signInRow.classList.add('hidden');
      if (shouldRedirect) {
        const loginSessionId = `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;
        localStorage.setItem('gnfc_login_session_id', loginSessionId);
        window.location.href = '/src/pages/dashboard.html?fromLogin=1';
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const buttons = document.querySelectorAll('.role-btn');
      const currentRole = localStorage.getItem('userRole');

      buttons.forEach((button) => {
        button.addEventListener('click', () => selectRole(button, true));
      });

      if (currentRole) {
        const currentButton = document.querySelector(`.role-btn[data-role="${currentRole}"]`);
        if (currentButton) selectRole(currentButton, false);
      }
    });
  </script>
</body>

</html>
